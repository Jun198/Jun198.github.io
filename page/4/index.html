<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>钧言极客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="钧言极客（JINJUN.TOP）一个独立个人博客，记录平凡生活中的一些感悟、分享生活点滴和折腾的新事物，与我一起记录每一次精彩瞬间。">
<meta property="og:type" content="website">
<meta property="og:title" content="钧言极客">
<meta property="og:url" content="http://blog.jinjun.top/page/4/index.html">
<meta property="og:site_name" content="钧言极客">
<meta property="og:description" content="钧言极客（JINJUN.TOP）一个独立个人博客，记录平凡生活中的一些感悟、分享生活点滴和折腾的新事物，与我一起记录每一次精彩瞬间。">
<meta property="og:locale">
<meta property="article:author" content="钧言">
<meta property="article:tag" content="进钧,钧言,进钧博客,钧言极客,小钧,小军,进钧blog,钧言blog,钧言钧言">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="钧言极客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">钧言极客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">记录生活,爱好学习,不爱折腾.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.jinjun.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Debian 10 升级Debian 11 笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/01/Debian%2010%20%E5%8D%87%E7%BA%A7Debian%2011%20%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2022-01-01T06:33:00.000Z" itemprop="datePublished">2022-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/01/01/Debian%2010%20%E5%8D%87%E7%BA%A7Debian%2011%20%E7%AC%94%E8%AE%B0/">Debian 10 升级Debian 11 笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->目前在腾讯云安装的`Debian 10`的版本，有些软件包需要`Debian 11`版本才能升级最新。我是`Debian 10`升级`Debian 11`，如果从`Debian 9` 或者更旧的版本升级到`Debian 10` 后才能继续升级。

<p>Debian 11升级需要root用户或者sudo权限执行，升级过程参考官方的<a target="_blank" rel="noopener" href="https://www.debian.org/releases/stable/amd64/release-notes/index.zh-cn.html">发行说明</a></p>
<h3 id="更新现有的安装包"><a href="#更新现有的安装包" class="headerlink" title="更新现有的安装包"></a>更新现有的安装包</h3><p>升级前确保当前Debian系统和软件包内核补丁更新到最新版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update -y &amp;&amp; sudo apt upgrade -y</span><br><span class="line">apt dist-upgrade</span><br></pre></td></tr></table></figure>

<p>删除未使用依赖包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt --purge autoremove</span><br></pre></td></tr></table></figure>


<h3 id="替换更新源"><a href="#替换更新源" class="headerlink" title="替换更新源"></a>替换更新源</h3><ul>
<li>使用命令行进行替换</li>
</ul>
<p>修改<code>/etc/apt/sources.list</code>文件，将源地址<code>buster</code>替换为<code>bullseye</code>，<code>buster/updates</code>替换为<code>bullseye-security</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 备份sources.list文件</span><br><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">sed -i &#x27;s/buster/bullseye/g&#x27; /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ul>
<li>使用vim编辑器编辑<code>/etc/apt/sources.list</code>文件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 编辑文件</span><br><span class="line">apt install vim &amp;&amp; vim /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"># 删除旧源地址，添加以下</span><br><span class="line">deb https://repo.huaweicloud.com/debian bullseye main contrib non-free</span><br><span class="line">deb https://repo.huaweicloud.com/debian bullseye-updates main contrib non-free</span><br><span class="line">deb https://repo.huaweicloud.com/debian-security bullseye-security main</span><br><span class="line">deb https://repo.huaweicloud.com/debian bullseye-backports main contrib non-free</span><br></pre></td></tr></table></figure>

<h3 id="升级到Debian-11"><a href="#升级到Debian-11" class="headerlink" title="升级到Debian 11"></a>升级到Debian 11</h3><p>更新软件包仓库地址，并进行系统升级</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt full-upgrade</span><br></pre></td></tr></table></figure>

<p>提示是否升级，输入<code>Y</code>表示同意升级系统，<code>n</code>表示退出</p>
<p><img src="https://img.jinjun.top/images/2022/01/bc5e7917f03e2.png" alt="update"></p>
<p>升级过程大概10分钟，具体根据机器配置来决定，过程根据提示进行配置。</p>
<p>如果升级提示apt的提示，如下图，输入<code>q</code>退出继续</p>
<p><img src="https://img.jinjun.top/images/2022/01/5aa53d6d5e08e.png" alt="apt提示"></p>
<p>系统上有一些在运行的服务需要特定的软件库（libc、libssl、libpam、chrony等）的升级过程会重新启动，由于重新启动会导致系统服务中断，选择<code>Yes</code> 在软件包升级过程中不经询问直接重启服务。</p>
<p><img src="https://img.jinjun.top/images/2022/01/e33b429fdb331.png" alt="libc64"></p>
<p>提示是否更新<code>/etc/sysctl.conf</code>?文件版本，默认为?<code>N</code>，根据你自己的需求选择。</p>
<p><img src="https://img.jinjun.top/images/2022/01/6c502448281d0.png" alt="sysctl.conf"></p>
<p>提示是否更新chrony时钟同步配置文件，我选择<code>Keep the local version currently installed</code> 保留当前版本，<strong>服务器安装时钟同步提示，没有安装不会提示</strong></p>
<p><img src="https://img.jinjun.top/images/2022/01/84a2d4b0e7f65.png" alt="chrony"></p>
<p>提示是否更新OpenSSH配置文件，我选择<code>Keep the local version currently installed</code> 保留当前版本，如果更改了ssh端口或修改了配置文件，建议保留配置文件。</p>
<p><img src="https://img.jinjun.top/images/2022/01/9d8c8d4093067.png" alt="openssh"></p>
<p>完成后，使用<code>reboot</code>进行重启系统。</p>
<h3 id="验证升级"><a href="#验证升级" class="headerlink" title="验证升级"></a>验证升级</h3><p>重新启动后，查看当前系统版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/os-release</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2022/01/e2fd439e13730.png" alt="Debian11"></p>
<p>可以看见系统已经升级Debian 11，我们还要检查一下内核版本。</p>
<p><img src="https://img.jinjun.top/images/2022/01/6b8a25e326a05.png" alt="debian内核"></p>
<p>可以看见内核版本也更新到5.10版本。这样就算完成Debian 11的升级。</p>
<h2 id="如果发现查看版本还是10的版本，已经完成11的升级"><a href="#如果发现查看版本还是10的版本，已经完成11的升级" class="headerlink" title="如果发现查看版本还是10的版本，已经完成11的升级"></a>如果发现查看版本还是10的版本，已经完成11的升级</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 查看可升级的软件</span><br><span class="line">apt list --upgradable -a</span><br><span class="line"></span><br><span class="line"># 执行升级Debian 11软件包</span><br><span class="line">apt upgrade base-files</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2022/01/01/Debian%2010%20%E5%8D%87%E7%BA%A7Debian%2011%20%E7%AC%94%E8%AE%B0/" data-id="cleycjpgr0042qgun94547qhw" data-title="Debian 10 升级Debian 11 笔记" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debian/" rel="tag">Debian</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%85%E6%A0%B8/" rel="tag">内核</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%90%E7%BB%B4%E6%95%99%E7%A8%8B/" rel="tag">运维教程</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-解决Dabian下iptable重启后规则丢失" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/13/%E8%A7%A3%E5%86%B3Dabian%E4%B8%8Biptable%E9%87%8D%E5%90%AF%E5%90%8E%E8%A7%84%E5%88%99%E4%B8%A2%E5%A4%B1/" class="article-date">
  <time class="dt-published" datetime="2021-12-13T08:26:00.000Z" itemprop="datePublished">2021-12-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BB%BA%E7%AB%99%E7%9F%A5%E8%AF%86/">建站知识</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/13/%E8%A7%A3%E5%86%B3Dabian%E4%B8%8Biptable%E9%87%8D%E5%90%AF%E5%90%8E%E8%A7%84%E5%88%99%E4%B8%A2%E5%A4%B1/">解决Dabian下iptable重启后规则丢失</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->最近折腾完成pve的虚拟机环境后，也部署了几个虚拟机，昨天给软路由升级一下硬盘。升级完成后，重新开机后完成硬盘的分区，并把硬盘虚拟给了群晖。今天发现登录不上群晖的IP，经过好几次排查，检查发现iptebles的规则已经全部没有了。没办法只好重新设置一次，防止下次重启后再丢失NAT规则，我尝试使用以下方法。

<h2 id="使用iptables保存机制"><a href="#使用iptables保存机制" class="headerlink" title="使用iptables保存机制"></a>使用iptables保存机制</h2><p>在设置好了iptables规则后，下次重启后还是会被清除，所以我们需要把它保存起来，使用 <code>iptables-save</code> 命令来进行备份。</p>
<ul>
<li>保存现有iptables规则到 <code>/etc/iptables-rules</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-save &gt; /etc/iptables-rules</span><br></pre></td></tr></table></figure>

<ul>
<li>重启后恢复iptables规则</li>
</ul>
<p>修改网卡文件，当网卡重启的时候自动执行恢复命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/network/interfaces</span><br></pre></td></tr></table></figure>
<ul>
<li>找到网卡eth0的那一节，在节后末尾加上载入恢复命令</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pre-up iptables-restore &lt; /etc/iptables-rules</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2021/12/769473f84dc8b.png" alt="pve"></p>
<ul>
<li>查看备份规则</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/iptables-rules</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2021/12/5b00119291083.png" alt="iptables-rules"></p>
<ul>
<li>清理当前iptables规则，?? 注意要在已经备份完成的时候进行删除</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">iptables -X</span><br><span class="line">iptables -Z</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2021/12/d8d35b0a11120.png" alt="iptables"></p>
<ul>
<li>重启当前主机，看会不会重置规则</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L -n --line-numbers</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2021/12/d01e74f0914bc.png" alt="iptables"></p>
<p>iptables的规则会在重启或者开机的时候，会自动载入规则，新增iptables规则后建议也执行 <code>iptables-save</code> 。</p>
<h2 id="直接写在网卡配置文件"><a href="#直接写在网卡配置文件" class="headerlink" title="直接写在网卡配置文件"></a>直接写在网卡配置文件</h2><table>
<thead>
<tr>
<th align="center">表达</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pre-up</td>
<td align="center">网卡启用前的动作</td>
</tr>
<tr>
<td align="center">up</td>
<td align="center">启用时候的动作</td>
</tr>
<tr>
<td align="center">post-up</td>
<td align="center">启用后的动作</td>
</tr>
<tr>
<td align="center">pre-down</td>
<td align="center">关闭前的动作</td>
</tr>
<tr>
<td align="center">down</td>
<td align="center">关闭时动作</td>
</tr>
<tr>
<td align="center">post-down</td>
<td align="center">关闭后动作</td>
</tr>
</tbody></table>
<ul>
<li>编辑网卡文件，在末尾写上相关iptables规则</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/network/interfaces</span><br></pre></td></tr></table></figure>

<ul>
<li>直接写在网卡的配置，每次重启的时候就自动加载规则</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">post-up echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line">post-up iptables -t nat -A POSTROUTING -s &#x27;10.10.10.0/24&#x27; -o esn5 -j MASQUERADE</span><br><span class="line">post-down iptables -t nat -D POSTROUTING -s &#x27;10.10.10.0/24&#x27; -o ens5 -j MASQUERADE</span><br><span class="line"></span><br><span class="line"># iptables NAT</span><br><span class="line"></span><br><span class="line">post-up iptables -t nat -A PREROUTING -p tcp -m multiport --dport 113  -j DNAT --to-destination 10.10.10.10:22</span><br><span class="line">post-up iptables -t nat -A PREROUTING -p tcp -m multiport --dport 1000:1099  -j DNAT --to-destination 10.10.10.10</span><br><span class="line"></span><br><span class="line">post-up iptables -t nat -A PREROUTING -p tcp -m multiport --dport 223  -j DNAT --to-destination 10.10.10.11:22</span><br><span class="line">post-up iptables -t nat -A PREROUTING -p tcp -m multiport --dport 1100:1199  -j DNAT --to-destination 10.10.10.11</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/2021/12/a2f0b33ab23fa.png" alt="iptables"></p>
<p>这个方法有两个弊端</p>
<ul>
<li><p>每条转发规则都要配置2行，分别是post-up时添加规则和post-down时删除规则。好像不写 <code>post-down</code> 也没有事情，应该是防止多条规则覆盖。特别是使用了<code>iptables-persistent</code> 这个软件包。</p>
</li>
<li><p>修改转发规则后，必须执行 <code>service networking restart</code> 重启网卡才能使修改生效。而重启网卡会导致整机瞬间断网，如果有需要保持长连接的业务，会受到严重影响。</p>
</li>
</ul>
<p>最终我选择第一个方法，第二个方法在测试的时候，修改了网卡文件然后重启了网卡，但是iptables规则并没有生效，要重启母鸡才可以。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/12/13/%E8%A7%A3%E5%86%B3Dabian%E4%B8%8Biptable%E9%87%8D%E5%90%AF%E5%90%8E%E8%A7%84%E5%88%99%E4%B8%A2%E5%A4%B1/" data-id="cleycjpn100s1qgunbs9b0zem" data-title="解决Dabian下iptable重启后规则丢失" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debian/" rel="tag">Debian</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Proxmox/" rel="tag">Proxmox</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">虚拟机</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Debian 10安装Proxmox VE 开NAT机器" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/25/Debian%2010%E5%AE%89%E8%A3%85Proxmox%20VE%20%E5%BC%80NAT%E6%9C%BA%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2021-11-25T01:55:00.000Z" itemprop="datePublished">2021-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/25/Debian%2010%E5%AE%89%E8%A3%85Proxmox%20VE%20%E5%BC%80NAT%E6%9C%BA%E5%99%A8/">Debian 10安装Proxmox VE 开NAT机器</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->在路由器安装了Debian来安装PVE，这里来记录一下关键步骤。


<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>在debian10安装完成后，连接ssh，进行前期pve安装环境配置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 查看当前主机名</span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line"># 修改主机名，根据实际情况进行修改</span><br><span class="line">hostnamectl set-hostname debian</span><br><span class="line"></span><br><span class="line"># 查看当前IP</span><br><span class="line">hostname --ip-address</span><br><span class="line"></span><br><span class="line"># 修改/etc/hosts，在前两行修改</span><br><span class="line"></span><br><span class="line">127.0.0.1 localhost.localdomain localhost</span><br><span class="line">192.168.100.100 debian.proxmox.com debian</span><br></pre></td></tr></table></figure>

<p><code>/etc/hosts</code> 127.0.0.1是本地保留地址，不用理会。<br><code>192.168.100.100</code>是我路由器指定给pve的IP，需要修改为自己的公网IP或内网IP。<br>在主机名修改为<code>pve</code> 那域名也必须要设置为<code>pve.proxmox.com</code>，就相当于<code>主机名.proxmox.xom</code>。</p>
<h3 id="添加安装源"><a href="#添加安装源" class="headerlink" title="添加安装源"></a>添加安装源</h3><ul>
<li>添加Debian国内加速源</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i &#x27;s/deb.debian.org/mirrors.ustc.edu.cn/g&#x27; /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ul>
<li>添加pve安装库</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 官方安装库</span><br><span class="line">echo &quot;deb http://download.proxmox.com/debian/pve buster pve-no-subscription&quot; &gt; /etc/apt/sources.list.d/pve-install-repo.list</span><br><span class="line"></span><br><span class="line"># pve6.x国内加速源</span><br><span class="line">echo &quot;deb http://mirrors.ustc.edu.cn/proxmox/debian/pve buster pve-no-subscription&quot; &gt;/etc/apt/sources.list.d/pve-install-repo.list</span><br><span class="line"># pve7.x国内加速源</span><br><span class="line">echo &quot;deb http://mirrors.ustc.edu.cn/proxmox/debian/pve bullseye pve-no-subscription&quot; &gt;/etc/apt/sources.list.d/pve-install-repo.list</span><br></pre></td></tr></table></figure>

<ul>
<li>添加安装密匙</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.proxmox.com/debian/proxmox-ve-release-6.x.gpg -O /etc/apt/trusted.gpg.d/proxmox-ve-release-6.x.gpg</span><br><span class="line">chmod +r /etc/apt/trusted.gpg.d/proxmox-ve-release-6.x.gpg  # optional, if you have a non-default umask</span><br></pre></td></tr></table></figure>

<ul>
<li>更新系统安装PVE软件包</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 更新存储库和系统</span><br><span class="line">apt update &amp;&amp; apt full-upgrade</span><br><span class="line"></span><br><span class="line"># 安装pve软件包</span><br><span class="line">apt install proxmox-ve postfix open-iscsi</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211125194034.png" alt="pve"></p>
<p>选择<code>NO</code> 然后进行下一部安装。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211125194150.png" alt="pve"></p>
<p>选择local only </p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211125194214.png" alt="pve"></p>
<p>确认域名是否正确，就是主机名那个。</p>
<p>待安装完成后，进行一波重启。在浏览器打了 <strong><code>https://IP:8006</code></strong> ，注意的是要https协议打开才可以，pve账号密码就是服务器的账号密码</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20210521000019.png" alt="pve"></p>
<p>到这里就完成了，Debian安装pve的操作。接下来进行NAT开小鸡</p>
<h2 id="开NAT机器"><a href="#开NAT机器" class="headerlink" title="开NAT机器"></a>开NAT机器</h2><p>进入Debian主机，进行设置<code>vmbr0</code>网桥进行桥接第一块网卡。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 使用vim进行编辑</span><br><span class="line">vim /etc/network/interfaces</span><br><span class="line"></span><br><span class="line"># 添加以下内容</span><br><span class="line">auto vmbr0</span><br><span class="line">iface vmbr0 inet static</span><br><span class="line">  address 10.10.10.1/24</span><br><span class="line">  netmask 255.255.255.0</span><br><span class="line">  bridge_ports none</span><br><span class="line">  bridge_stp off</span><br><span class="line">  bridge_fd 0</span><br><span class="line">  </span><br><span class="line">  post-up echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line">  post-up iptables -t nat -A POSTROUTING -s &#x27;10.10.10.0/24&#x27; -o ens5 -j MASQUERADE</span><br><span class="line">  post-down iptables -t nat -D POSTROUTING -s &#x27;10.10.10.0/24&#x27; -o ens5 -j MASQUERADE</span><br><span class="line">  post-up   iptables -t raw -I PREROUTING -i fwbr+ -j CT --zone 1</span><br><span class="line">  post-down iptables -t raw -D PREROUTING -i fwbr+ -j CT --zone 1</span><br></pre></td></tr></table></figure>

<p>更多详细的文档：<a target="_blank" rel="noopener" href="https://pve.proxmox.com/wiki/Network_Configuration">https://pve.proxmox.com/wiki/Network_Configuration</a></p>
<p>创建一个CT容器，前面步骤可以按自己需求来设置，重点是设置网络这里。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211125204134.png" alt="pve"></p>
<ul>
<li>使用静态IP配置 10.10.10.0 网段</li>
<li>10.10.10.11&#x2F;24 做ip地址，也方便自己记住</li>
<li>网关设置为10.10.10.1</li>
</ul>
<h3 id="设置nat"><a href="#设置nat" class="headerlink" title="设置nat"></a>设置nat</h3><p>在母鸡上运行shell，使用iptables做nat转发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 添加IP转发规则</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -m tcp --dport 1122 -j DNAT --to-destination 10.10.10.11:22</span><br><span class="line">iptables -t nat -A PREROUTING -p udp -m tcp --dport 1122 -j DNAT --to-destination 10.10.10.11:22</span><br></pre></td></tr></table></figure>

<p><strong>PS</strong>：把小鸡的IP <code>10.10.10.11:22</code> 的数据转发到 母鸡IP<code>1122</code>上</p>
<p>使用ssh进行连接，母鸡IP:转发端口进行连接<br><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211128202119.png" alt="pve"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/11/25/Debian%2010%E5%AE%89%E8%A3%85Proxmox%20VE%20%E5%BC%80NAT%E6%9C%BA%E5%99%A8/" data-id="cleycjpgq003zqgundq82ctym" data-title="Debian 10安装Proxmox VE 开NAT机器" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Debian/" rel="tag">Debian</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LXC%E5%AE%B9%E5%99%A8/" rel="tag">LXC容器</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NAT/" rel="tag">NAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Proxmox/" rel="tag">Proxmox</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VNC/" rel="tag">VNC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Linux安装dig命令工具和使用方法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/16/Linux%E5%AE%89%E8%A3%85dig%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2021-11-16T07:40:00.000Z" itemprop="datePublished">2021-11-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/16/Linux%E5%AE%89%E8%A3%85dig%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">Linux安装dig命令工具和使用方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->dig命令是常用的域名查询工具，可以用于检查域名系统是否正常工作。可以查询DNS的NS、A、cname、mx等相关的信息记录。

<h2 id="了解DNS记录类型"><a href="#了解DNS记录类型" class="headerlink" title="了解DNS记录类型"></a>了解DNS记录类型</h2><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">相关说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="center">指定域名对应的IPv4地址</td>
</tr>
<tr>
<td align="center">CNAME</td>
<td align="center">别名解析，相当于用子域名来代替ip地址</td>
</tr>
<tr>
<td align="center">AAAA</td>
<td align="center">解析到对应的IPv6的地址</td>
</tr>
<tr>
<td align="center">NS</td>
<td align="center">域名服务器记录，如果需要把子域名交给其他 DNS 服务器解析，就需要添加 NS 记录</td>
</tr>
<tr>
<td align="center">MX</td>
<td align="center">邮件路由记录，如果设置邮箱，需要添加该记录才能发信</td>
</tr>
<tr>
<td align="center">TXT</td>
<td align="center">可以写任何东西，但是TXT记录大多数时候用于申请SSL、SPF记录</td>
</tr>
<tr>
<td align="center">SOA</td>
<td align="center">起始授权机构记录，用于NS记录标记那一台是主服务器</td>
</tr>
</tbody></table>
<h2 id="安装DIG命令"><a href="#安装DIG命令" class="headerlink" title="安装DIG命令"></a>安装DIG命令</h2><p>很多系统都精简dig命令，会报错误。这个时候需要安装一个</p>
<ul>
<li>Debian&#x2F;Ubuntu</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install dnsutils</span><br></pre></td></tr></table></figure>
<ul>
<li>Centos&#x2F;RedHat</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-utils</span><br></pre></td></tr></table></figure>

<h2 id="dig命令说明"><a href="#dig命令说明" class="headerlink" title="dig命令说明"></a>dig命令说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig img.jinjun.top/images</span><br></pre></td></tr></table></figure>


<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211116224433.png" alt="dig"></p>
<p>dig默认输出信息分为五部分</p>
<ul>
<li><p>第一部分显示 dig 命令的版本和输入的参数。可以通过 <code>+[no]cmd</code> 来控制显示</p>
</li>
<li><p>第二部分显示服务返回的一些技术详情，比较重要的是 status。如果 status 的值为 NOERROR 则说明本次查询成功结束。可以通过 <code>+[no]comments</code> 来控制显示</p>
</li>
<li><p>第三部分中的 “QUESTION SECTION” 显示我们要查询的域名。可以通过 <code>+[no]question</code> 来控制显示</p>
</li>
<li><p>第四部分的 “ANSWER SECTION” 是查询到的结果。可以通过 <code>+[no]answer</code> 来控制显示</p>
</li>
<li><p>第五部分则是本次查询的一些统计信息，比如用了多长时间，查询了哪个 DNS 服务器，在什么时间进行的查询等等。可以通过 <code>+[no]stats</code> 来控制显示</p>
</li>
</ul>
<h3 id="dig常用命令"><a href="#dig常用命令" class="headerlink" title="dig常用命令"></a>dig常用命令</h3><ul>
<li>查询域名信息，默认显示全部信息</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com</span><br></pre></td></tr></table></figure>

<ul>
<li>查询CNAME记录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com cname</span><br></pre></td></tr></table></figure>

<ul>
<li>查询MX记录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com mx</span><br></pre></td></tr></table></figure>

<ul>
<li>查询NS记录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com ns</span><br></pre></td></tr></table></figure>

<ul>
<li><p>查询TTL记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com ttl</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询AAAA记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com aaaa</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询SOA服务器</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com soa</span><br></pre></td></tr></table></figure>

<ul>
<li>指定dns查询域名记录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @8.8.8.8 qq.com</span><br></pre></td></tr></table></figure>

<ul>
<li><p>追踪完整递归解析过程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig +trace qq.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询dns最终部分</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com +nocomments +noquestion +noauthority +noadditional +nostats</span><br></pre></td></tr></table></figure>

<ul>
<li><p>显示对应返回结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig qq.com cname +noall +answer</span><br></pre></td></tr></table></figure>
</li>
<li><p>简洁显示结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig +short qq.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>反向查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig -x 8.8.8.8 +shrot</span><br></pre></td></tr></table></figure>


</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/11/16/Linux%E5%AE%89%E8%A3%85dig%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" data-id="cleycjphg006tqgun5br7ezgy" data-title="Linux安装dig命令工具和使用方法" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dig%E5%91%BD%E4%BB%A4/" rel="tag">dig命令</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Termux玩转PostgreSQL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/08/Termux%E7%8E%A9%E8%BD%ACPostgreSQL/" class="article-date">
  <time class="dt-published" datetime="2021-11-08T07:41:00.000Z" itemprop="datePublished">2021-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/08/Termux%E7%8E%A9%E8%BD%ACPostgreSQL/">Termux玩转PostgreSQL</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->## 安装PostgreSQL

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install postgresql</span><br></pre></td></tr></table></figure>

<h3 id="初始化运行"><a href="#初始化运行" class="headerlink" title="初始化运行"></a>初始化运行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 创建目录</span><br><span class="line">mkdir -p $PREFIX/var/lib/postgresql</span><br><span class="line"></span><br><span class="line"># 初始化</span><br><span class="line">initdb $PREFIX/var/lib/postgresql</span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211108220901.png" alt="请输入图片描述"></p>
<h3 id="运行postpresql"><a href="#运行postpresql" class="headerlink" title="运行postpresql"></a>运行postpresql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postgres -D $PREFIX/var/lib/postgresql/</span><br></pre></td></tr></table></figure>
<p>后台运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 后台运行</span><br><span class="line">nohup postgres -D $PREFIX/var/lib/postgresql/ &amp;</span><br><span class="line"></span><br><span class="line"># 查看后台任务</span><br><span class="line">jobs</span><br><span class="line"></span><br><span class="line"># 关闭后台命令</span><br><span class="line">kill %&lt;id&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211108225643.png" alt="请输入图片描述"></p>
<h3 id="进入数据库"><a href="#进入数据库" class="headerlink" title="进入数据库"></a>进入数据库</h3><ul>
<li><p>查看用户名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whoami</span><br></pre></td></tr></table></figure>
</li>
<li><p>列出数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql -l</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211108231612.png" alt="请输入图片描述"></p>
<ul>
<li><p>进入命令行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br></pre></td></tr></table></figure>
</li>
<li><p>连接数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql -U u0_a96 -d postgres </span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211108232056.png" alt="请输入图片描述"></p>
</li>
</ul>
<h2 id="创建新用户和数据库"><a href="#创建新用户和数据库" class="headerlink" title="创建新用户和数据库"></a>创建新用户和数据库</h2><p>刚刚完成安装后，会生成一个postpresql的数据库和一个与系统用户名的数据库用户，在一台Debian机器安装的 PostgreSQL 对比发现，会生成postgresql的数据库和用postgresql的数据库用户，也会生成postgresql的Linux系统用户，termux是没有的postgresql用户，是共用系统的用户名。</p>
<ul>
<li>使用 CREATE 语法来进行创建用户</li>
</ul>
<p>进入psql命令行模式，termux比较奇葩，要连默认接数据库才可以进入psql操作，可能我还没有知道更好的方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql -U u0_a96 -d postgres</span><br></pre></td></tr></table></figure>

<ul>
<li>进入后，先创建一个数据库用户并指定一个密码</li>
</ul>
<p>这里创建一个username的用户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user username with password &#x27;*******&#x27;;</span><br></pre></td></tr></table></figure>

<p>这里注意，密码需要引号包裹，一定要以英文分号结尾不然会报错。</p>
<ul>
<li>创建一个数据库</li>
</ul>
<p>这里创建一个pgdata的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database pgdata owner username;</span><br></pre></td></tr></table></figure>

<ul>
<li>将数据库的全部权限赋予某个用户</li>
</ul>
<p>这里将pgdata的所以权全部赋予给useename</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on database pgdata to username;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211114221934.png" alt="创建用户和数据库"></p>
<ul>
<li>查看刚刚创建用户和数据库</li>
</ul>
<p>同样在控制台输入,查看是否存在数据库</p>
<p>查看用户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\du</span><br></pre></td></tr></table></figure>

<p>查看数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\l</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211114222109.png" alt="用户与数据库"></p>
<ul>
<li>测试连接</li>
</ul>
<p>以刚刚创建数据为例，使用username连接pgdata数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql -U username -d pgdata -h 127.0.0.1</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211114222242.png" alt="测试连接"></p>
<h2 id="psql常用命令"><a href="#psql常用命令" class="headerlink" title="psql常用命令"></a>psql常用命令</h2><p>\password ： 设置密码<br>\q ： 退出<br>\h ： 查看SQL命令解释，如<code>\h select</code><br>\? ： 查看psql命令列表<br>\l ： 列出所以数据库<br>\c [table_name] ： 连接其他数据库<br>\d ： 列出当前数据库所有表格<br>\d [table_name] ： 列出某一张表格<br>\du ： 列出所有用户<br>\e ： 打开文本编辑器<br>\connifo ： 列出当前数据库和连接信息<br>select now(); ： 查看时间<br>select version(); ： 查看版本</p>
<h2 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h2><p>数据库基本操作，就是使用一般的SQL语言。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># 创建新表</span><br><span class="line">CREATE TABLE user_tbl(name VARCHAR(20), signup_date DATE);</span><br><span class="line"></span><br><span class="line"># 插入数据</span><br><span class="line">INSERT INTO user_tbl(name, signup_date) VALUES(&#x27;张三&#x27;, &#x27;2013-12-22&#x27;);</span><br><span class="line"></span><br><span class="line"># 选择记录</span><br><span class="line">SELECT * FROM user_tbl;</span><br><span class="line"></span><br><span class="line"># 更新数据</span><br><span class="line">UPDATE user_tbl set name = &#x27;李四&#x27; WHERE name = &#x27;张三&#x27;;</span><br><span class="line"></span><br><span class="line"># 删除记录</span><br><span class="line">DELETE FROM user_tbl WHERE name = &#x27;李四&#x27; ;</span><br><span class="line"></span><br><span class="line"># 添加栏位</span><br><span class="line">ALTER TABLE user_tbl ADD email VARCHAR(40);</span><br><span class="line"></span><br><span class="line"># 更新结构</span><br><span class="line">ALTER TABLE user_tbl ALTER COLUMN signup_date SET NOT NULL;</span><br><span class="line"></span><br><span class="line"># 更名栏位</span><br><span class="line">ALTER TABLE user_tbl RENAME COLUMN signup_date TO signup;</span><br><span class="line"></span><br><span class="line"># 删除栏位</span><br><span class="line">ALTER TABLE user_tbl DROP COLUMN email;</span><br><span class="line"></span><br><span class="line"># 表格更名</span><br><span class="line">ALTER TABLE user_tbl RENAME TO backup_tbl;</span><br><span class="line"></span><br><span class="line"># 删除表格</span><br><span class="line">DROP TABLE IF EXISTS backup_tbl;</span><br></pre></td></tr></table></figure>

<p>部分内容摘自：<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html">阮一峰的网络日志-PostgreSQL新手入门</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/11/08/Termux%E7%8E%A9%E8%BD%ACPostgreSQL/" data-id="cleycjpia00abqgun80gwh4n3" data-title="Termux玩转PostgreSQL" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PostgreSQL/" rel="tag">PostgreSQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Termux/" rel="tag">Termux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-基于Termux终端搭建内网web影音方案" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/11/05/%E5%9F%BA%E4%BA%8ETermux%E7%BB%88%E7%AB%AF%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91web%E5%BD%B1%E9%9F%B3%E6%96%B9%E6%A1%88/" class="article-date">
  <time class="dt-published" datetime="2021-11-05T06:10:00.000Z" itemprop="datePublished">2021-11-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/11/05/%E5%9F%BA%E4%BA%8ETermux%E7%BB%88%E7%AB%AF%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91web%E5%BD%B1%E9%9F%B3%E6%96%B9%E6%A1%88/">基于Termux终端搭建内网web影音方案</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->之前折腾过Transmission搭建PT下载平台，下载了好多电影，只能在手机播放不怎么方便，突然脑洞大开，利用PHP的H5ai列目录来映射pt的下载目录，从而达到电脑/电视也能播放视频，想法是有，搁了好几天才动手。最近干什么都是一拖再拖，好烦好烦。

<ul>
<li>安卓手机一台</li>
<li>termux环境</li>
</ul>
<h2 id="搭建Nginx环境"><a href="#搭建Nginx环境" class="headerlink" title="搭建Nginx环境"></a>搭建Nginx环境</h2><p>我这里使用Nginx来搭建web环境，Nginx我用得比较多，用起来会更加顺手一点。</p>
<p>termux安装也很简单，跟安装大部分软件一样，一条命令就可以安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install nginx</span><br></pre></td></tr></table></figure>

<p>安装完成后，查看一下配置信息。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105192718.png" alt="Nginx"></p>
<p>验证nginx配置文件是否正确。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105193715.png" alt="Nginx"></p>
<p>现在测试是没有问题的，这个可以用于修改配置文件后验证文件是否正确，第一条有个报错是设置h5ai的运行命令忘记打结尾来。</p>
<h3 id="启动Nginx"><a href="#启动Nginx" class="headerlink" title="启动Nginx"></a>启动Nginx</h3><p>一条命令就可以启动nginx</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure>

<p>查看nginx的相关进程PID，可以使用<code>pgrep</code>来进行查看</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep nginx</span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105195609.png" alt="nginx"></p>
<p>这时候nginx启动，默认端口是8080，可以打开<code>127.0.0.1:8080</code>来进行验证访问。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105200054.png" alt="nginx"></p>
<h4 id="常用nginx命令行"><a href="#常用nginx命令行" class="headerlink" title="常用nginx命令行"></a>常用nginx命令行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 启动nginx</span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line"># 验证配置文件</span><br><span class="line">nginx -t</span><br><span class="line"></span><br><span class="line"># 查看配置信息</span><br><span class="line">nginx -V</span><br><span class="line"></span><br><span class="line"># 重启nginx</span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line"># 关闭nginx</span><br><span class="line">nginx -s stop</span><br><span class="line"></span><br><span class="line"># 暴力终结nginx</span><br><span class="line">kill -9 `pgrep nginx`</span><br></pre></td></tr></table></figure>

<h2 id="安装php-fpm"><a href="#安装php-fpm" class="headerlink" title="安装php-fpm"></a>安装php-fpm</h2><p>为什么要安装php-fpm，nginx只能解析静态web的语言，比如html、htm这些静态文件。对于php这类动态语言来说就无能为力，所以要为PHP的解析器搭建一座nginx与php之间桥梁，让它来进行识别PHP语言并交由php解析器进行处理，这个桥梁枢纽就是<code>php-fpm</code></p>
<p>安装php-fpm会将PHP一同默认安装，termux默认安装的都是最新版本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install php-fpm</span><br></pre></td></tr></table></figure>
<p>顺手查看一下php-fpm版本信息</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105202413.png" alt="php-fpm"></p>
<h3 id="配置-php-fpm"><a href="#配置-php-fpm" class="headerlink" title="配置 php-fpm"></a>配置 php-fpm</h3><p>编辑php-fpm的配置文件，具体路径在<code>/data/data/com.termux/files/usr/etc/php-fpm.d/www.conf </code>不建议使用手机的文本编辑器进行编辑文件，有时候会引发权限问题，尽可能在命令行窗口进行编辑。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim $PREFIX/etc/php-fpm.d/www.conf</span><br></pre></td></tr></table></figure>

<p>使用vim搜索命令，进行定位搜索 <code>listen =</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">listen = /data/data/com.termux/files/usr/var/run/php-fpm.sock</span><br><span class="line"></span><br><span class="line">修改成以下</span><br><span class="line"></span><br><span class="line">listen = 127.0.0.1:9000</span><br></pre></td></tr></table></figure>

<p>这里使用php-cgi进行监听，也可以使用socket的方式进行连接。</p>
<h3 id="配置-Nginx"><a href="#配置-Nginx" class="headerlink" title="配置 Nginx"></a>配置 Nginx</h3><p>编辑nginx配置文件，具体路径在<code> /data/data/com.termux/files/usr/etc/nginx/nginx.conf</code>使用vim修改，同样不建议使用手机编辑器进行修改。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim $PREFIX/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<ul>
<li>添加 <code>index.php</code> 到默认首页规则里面</li>
</ul>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105204153.png" alt="nginx"></p>
<ul>
<li>删除 <code>location ~ \.php$</code> 注释，并修改默认nginx网站默认根目录</li>
</ul>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105204734.png" alt="nginx"></p>
<p>在termux里面nginx默认网站目录在<code>/data/data/com.termux/files/usr/share/nginx/html</code>所以要把<code>/scripts</code>修改成默认的网站目录，并不需要在本地再创建一个文件夹。</p>
<h2 id="测试PHP解析"><a href="#测试PHP解析" class="headerlink" title="测试PHP解析"></a>测试PHP解析</h2><p>在网站默认目录下，创建一个PHP的检测代码。新建一个 <code>info.php</code> 内容为 <code>&lt;?php phpinfo(); ?&gt;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;&lt;?php phpinfo(); ?&gt;&#x27; &gt; $PREFIX/share/nginx/html/info.php</span><br></pre></td></tr></table></figure>

<h3 id="启动相关服务"><a href="#启动相关服务" class="headerlink" title="启动相关服务"></a>启动相关服务</h3><p>先启动<code>php-fpm</code>再启动<code>nginx</code>，如果启动了nginx则给重启一下就可以<code>nginx -s reload</code><br>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php-fpm</span><br><span class="line">nginx</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105210443.png" alt="php"></p>
<p>这样就完成了，nginx和php的安装完成。</p>
<h2 id="安装-H5ai"><a href="#安装-H5ai" class="headerlink" title="安装 H5ai"></a>安装 H5ai</h2><p>这里使用的是loc大佬的魔改版本，带HTML5播放器DPlayer和hls切片播放。</p>
<p>Github地址：<a target="_blank" rel="noopener" href="https://github.com/Pearlulu/h5ai_dplayer">下载地址</a></p>
<p>下载完成后直接解压到默认根目录下就可以了。</p>
<p>还要修改一个地方就是前面提到的php的index默认主页。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105211446.png" alt="nginx"></p>
<p>这里修改成以下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index  index.html  index.php  /_h5ai/public/index.php;</span><br></pre></td></tr></table></figure>

<p>挂载PT的下载目录到网站目录下</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105213010.png" alt="ln -s"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 进入网站目录</span><br><span class="line">cd /data/data/com.termux/files/usr/share/nginx/html</span><br><span class="line"></span><br><span class="line"># 创建软连接</span><br><span class="line">ln -s /storage/emulated/0/Download Download</span><br></pre></td></tr></table></figure>

<p>创建软连接成功，可以在H5ai正常显示出来。</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105213344.png" alt="h5ai"></p>
<p>测试网络播放视频</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211105220744.png" alt="H5ai"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/11/05/%E5%9F%BA%E4%BA%8ETermux%E7%BB%88%E7%AB%AF%E6%90%AD%E5%BB%BA%E5%86%85%E7%BD%91web%E5%BD%B1%E9%9F%B3%E6%96%B9%E6%A1%88/" data-id="cleycjplp00n7qgun9qko2rjh" data-title="基于Termux终端搭建内网web影音方案" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Termux/" rel="tag">Termux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WEB/" rel="tag">WEB</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-解决Ubuntu执行add-apt-repository提示command not found" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/28/%E8%A7%A3%E5%86%B3Ubuntu%E6%89%A7%E8%A1%8Cadd-apt-repository%E6%8F%90%E7%A4%BAcommand%20not%20found/" class="article-date">
  <time class="dt-published" datetime="2021-10-28T06:32:00.000Z" itemprop="datePublished">2021-10-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/28/%E8%A7%A3%E5%86%B3Ubuntu%E6%89%A7%E8%A1%8Cadd-apt-repository%E6%8F%90%E7%A4%BAcommand%20not%20found/">解决Ubuntu执行add-apt-repository提示command not found</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->在ubuntu安装qbittorrent的时候，添加ppa源执行时候发生报错。这个问题在ubuntu有时候也是时不时出现一下。

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a96@localhost ~ add-apt-repository ppa:qbittorrent-team/qbittorrent-stable? ? </span><br><span class="line">add-apt-repository: command not found</span><br></pre></td></tr></table></figure>

<p>在搜索引擎一番搜索，原来是<code>add-apt-repository</code>程序没有安装。执行一下命令就可以解决。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install software-properties-common python-software-properties</span><br></pre></td></tr></table></figure>

<p>安装完成后，再执行添加源命令，再更新一下软件列表在安装软件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 更新软件列表</span><br><span class="line">apt-get update</span><br><span class="line"></span><br><span class="line"># 安装qbittorrent</span><br><span class="line">apt-get install qbittorrent-nox</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/10/28/%E8%A7%A3%E5%86%B3Ubuntu%E6%89%A7%E8%A1%8Cadd-apt-repository%E6%8F%90%E7%A4%BAcommand%20not%20found/" data-id="cleycjpn300s8qgun9mcvb260" data-title="解决Ubuntu执行add-apt-repository提示command not found" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PT/" rel="tag">PT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Transmission/" rel="tag">Transmission</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qBittorrent/" rel="tag">qBittorrent</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Termux 入门到入坑教程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/14/Termux%20%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9D%91%E6%95%99%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2021-10-14T07:31:00.000Z" itemprop="datePublished">2021-10-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/14/Termux%20%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9D%91%E6%95%99%E7%A8%8B/">Termux 入门到入坑教程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->## Termux 简介

<p>Termux是一个安卓手机模拟Linux环境，提供标准的命令行界面，让手机也能变身轻量化的DIY极客工具。软件开源且不需要root权限，可以安装其他Linux发行版，支持pkg、apt软件包管理，可以很方便找到安装软件包，也可以跑Nginx、PHP、MySQL、Python、NodeJS等。</p>
<h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><ul>
<li><a target="_blank" rel="noopener" href="https://f-droid.org/packages/com.termux/">F-Deoid 下载</a></li>
<li><a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=com.termux">Google Play 下载</a></li>
</ul>
<p>推荐去F-Deoid下载，国内可能下载有点慢可以需要特殊工具进行加速，下载F-Deoid - Google play - 酷安</p>
<h3 id="WiKi-文档"><a href="#WiKi-文档" class="headerlink" title="WiKi 文档"></a>WiKi 文档</h3><ul>
<li><a target="_blank" rel="noopener" href="https://termux.com/">Termux 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://termux.com/">Github 项目</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.termux.com/wiki/">Termux 文档</a></li>
</ul>
<h2 id="长按屏幕"><a href="#长按屏幕" class="headerlink" title="长按屏幕"></a>长按屏幕</h2><p>长按屏幕会调出显示菜单项（包括复制、粘贴、更多），方便我们进行复制或者粘贴：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">长按屏幕</span><br><span class="line">├── COPY:    # 复制</span><br><span class="line">├── PASTE:   # 粘贴</span><br><span class="line">├── More:    # 更多</span><br><span class="line">   ├── Select URL:             # 提取屏幕所有网址</span><br><span class="line">   └── Share transcipt:        # 分享命令脚本</span><br><span class="line">   └── Reset:                  # 重置</span><br><span class="line">   └── Kill process:           # 杀掉当前会话进程</span><br><span class="line">   └── Style:                  # 风格配色 需要自行安装</span><br><span class="line">   └── Keep screen on:         # 保持屏幕常亮</span><br><span class="line">   └── Help:                   # 帮助文档</span><br></pre></td></tr></table></figure>

<h2 id="Linux快捷键"><a href="#Linux快捷键" class="headerlink" title="Linux快捷键"></a>Linux快捷键</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Ctrl + A -&gt; 将光标移动到行首</span><br><span class="line">Ctrl + C -&gt; 中止当前进程</span><br><span class="line">Ctrl + D -&gt; 注销终端会话</span><br><span class="line">Ctrl + E -&gt; 将光标移动到行尾</span><br><span class="line">Ctrl + K -&gt; 从光标删除到行尾</span><br><span class="line">Ctrl + U -&gt; 从光标删除到行首</span><br><span class="line">Ctrl + L -&gt; 清除终端</span><br><span class="line">Ctrl + Z -&gt; 挂起（发送SIGTSTP到）当前进程</span><br><span class="line">Ctrl + alt + C -&gt; 打开新会话（仅适用于 黑客键盘）</span><br></pre></td></tr></table></figure>

<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">echo $HOME</span><br><span class="line">/data/data/com.termux/files/home</span><br><span class="line"></span><br><span class="line">echo $PREFIX</span><br><span class="line">/data/data/com.termux/files/usr</span><br><span class="line"></span><br><span class="line">echo $TMPPREFIX</span><br><span class="line">/data/data/com.termux/files/usr/tmp/zsh</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211014235645.png" alt="目录结构"></p>
<h2 id="更换国内源"><a href="#更换国内源" class="headerlink" title="更换国内源"></a>更换国内源</h2><h3 id="官方换源"><a href="#官方换源" class="headerlink" title="官方换源"></a>官方换源</h3><p>termux最新版本中，内置<code>termux-change-repo</code> 可以直接更换镜像源，炒鸡方便。</p>
<p>在SSH输入，选择需要源，回车就完事。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">termux-change-repo</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211014214548.png" alt="repo"><br><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211014214631.png" alt="repo"></p>
<h3 id="命令行替换"><a href="#命令行替换" class="headerlink" title="命令行替换"></a>命令行替换</h3><p>这里也是替换为清华大学的源，可以加快软件包下载速度。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@&#x27; $PREFIX/etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s@^\(deb.*games stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@&#x27; $PREFIX/etc/apt/sources.list.d/game.list</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s@^\(deb.*science stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@&#x27; $PREFIX/etc/apt/sources.list.d/science.list</span><br><span class="line"></span><br><span class="line">pkg update</span><br></pre></td></tr></table></figure>
<p>替换源之后，执行<code>pkg update</code>。</p>
<h3 id="安装基础工具"><a href="#安装基础工具" class="headerlink" title="安装基础工具"></a>安装基础工具</h3><p>替换源，赶紧给系统补全一下常用的系统工具。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install nano proot curl wget git tree -y</span><br></pre></td></tr></table></figure>

<h2 id="软件包管理器"><a href="#软件包管理器" class="headerlink" title="软件包管理器"></a>软件包管理器</h2><p>Termux 除了支持pkg命令安装软件，也可以通过apt来安装，pkg命令向下兼容apt命令，只是运行前会执行一次apt update，保证安装的是最新版本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pkg search &lt;query&gt;              # 搜索包</span><br><span class="line">pkg install &lt;package&gt;           # 安装包</span><br><span class="line">pkg uninstall &lt;package&gt;         # 卸载包</span><br><span class="line">pkg reinstall &lt;package&gt;         # 重新安装包</span><br><span class="line">pkg update                      # 更新源</span><br><span class="line">pkg upgrade                     # 升级软件包</span><br><span class="line">pkg list-all                    # 列出可供安装的所有包</span><br><span class="line">pkg list-installed              # 列出已经安装的包</span><br><span class="line">pkg show &lt;package&gt;              # 显示某个包的详细信息</span><br><span class="line">pkg files &lt;package&gt;             # 显示某个包的相关文件夹路径</span><br></pre></td></tr></table></figure>
<h3 id="软件安装"><a href="#软件安装" class="headerlink" title="软件安装"></a>软件安装</h3><p>除了pkg&#x2F;apt命令安装软件，也可以使用<code>dpkg</code> 进行安装 <code>.deb</code>的软件包文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i ./package.de         # 安装 deb 包</span><br><span class="line">dpkg --remove [package name] # 卸载软件包</span><br><span class="line">dpkg -l                      # 查看已安装的包</span><br><span class="line">man dpkg                     # 查看详细文档</span><br></pre></td></tr></table></figure>

<h2 id="访问本机存储"><a href="#访问本机存储" class="headerlink" title="访问本机存储"></a>访问本机存储</h2><p>手机APP默认只能访问自己的数据，如果想要访问手机存储，需要授权一下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">termux-setup-storage</span><br></pre></td></tr></table></figure>

<p>执行该命令后，会在<code>home</code>目录下生成<code>storage</code>目录，并生成若干目录，软连接关联外置内存卡的对应目录</p>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211014223431.png" alt="storage"></p>
<p>也可以创建一些常用QQ目录这些软连接到<code>storage</code>目录，方便管理文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QQ</span><br><span class="line">ln -s /data/data/com.termux/files/home/storage/shared/tencent/QQfile_recv QQ</span><br><span class="line"></span><br><span class="line">TIM</span><br><span class="line">ln -s /data/data/com.termux/files/home/storage/shared/tencent/TIMfile_recv TIM</span><br><span class="line"></span><br><span class="line">微信</span><br><span class="line">ln -s /data/data/com.termux/files/home/storage/shared/Android/data/com.tencent.mm/MicroMsg/Download WX</span><br></pre></td></tr></table></figure>
<p>这样可以大大提高操作文件的效率。</p>
<h2 id="超级管理员身份"><a href="#超级管理员身份" class="headerlink" title="超级管理员身份"></a>超级管理员身份</h2><p>termux其实很多操作都是不需要root权限，另外有一些程序会指定root用户才能安装。</p>
<p>其实很多没有手机没有获取root，这里可以使用<code>proot</code>来模拟一个root环境，可以模拟termux 中的常规 Linux文件系统，并不是真正意义的root。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 安装proot</span><br><span class="line">pkg install proot -y</span><br><span class="line"></span><br><span class="line"># 切换到root用户</span><br><span class="line">termux-chroot</span><br><span class="line"></span><br><span class="line"># 退出root环境</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h3 id="手机已经获取root"><a href="#手机已经获取root" class="headerlink" title="手机已经获取root"></a>手机已经获取root</h3><p>安装<code>tsu</code>，这是一个<code>su</code>的 Termux 版本，是一个真正的 root 权限，用来在 Termux上替代<code>su</code>，操作不慎可能对手机有安全风险，因为官方封装了，所以安装也很简单：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 安装tsu</span><br><span class="line">pkg install tsu -y</span><br><span class="line"></span><br><span class="line"># 切换到root</span><br><span class="line">tsu</span><br><span class="line"></span><br><span class="line"># 退出root</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h2 id="开启SSH"><a href="#开启SSH" class="headerlink" title="开启SSH"></a>开启SSH</h2><p>在Termux开启SSH，就可以脱离手机享受多终端连接带来的便利，也是网络时代必不可少的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 安装openssh</span><br><span class="line">pkg Install openssh</span><br><span class="line"></span><br><span class="line"># 启动SSH</span><br><span class="line">sshd</span><br><span class="line"></span><br><span class="line"># 关闭SSH</span><br><span class="line">pkill sshd</span><br><span class="line"></span><br><span class="line"># 查看登录用户名</span><br><span class="line">whoami</span><br><span class="line"></span><br><span class="line"># 设置密码</span><br><span class="line">passwd</span><br><span class="line"></span><br><span class="line"># 使用putty连接</span><br><span class="line">ssh root@192.168.1.8 -p 8022</span><br></pre></td></tr></table></figure>

<p>这里注意，SSH的端口是<code>8022</code>并不是22端口。值得注意的是关闭termux后，ssh进程也需要重新启动一下，或者加入系统自启动。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;sshd&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h2 id="终端配色方案"><a href="#终端配色方案" class="headerlink" title="终端配色方案"></a>终端配色方案</h2><p>tremux的白色配色有点单调，我们使用<code>[termux-ohmyzsh](https://github.com/Cabbagec/termux-ohmyzsh/)</code>来更换主题和字体，如果弹出请求存储授权请允许。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)&quot;  </span><br></pre></td></tr></table></figure>

<p>执行脚本命令后，会有两个选项，分别选择<code>色彩样式</code>、<code>字体样式</code>，重启app后生效配置。如果有选择困难症，可以一遍遍选择自己合适的配色和字体方案。</p>
<p><strong>设置色彩样式</strong>：</p>
<p>输入<code>chcolor</code>命令更换色彩样式，或者执行<code>~/.termux/colors.sh</code>命令</p>
<p><strong>设置字体</strong></p>
<p>运行<code>chfont</code>命令更换字体，或者执行<code>~/.termux/fonts.sh</code>命令</p>
<p>文章参考：<a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/05/termux.html">Termux 高级终端安装使用配置教程 - 国光</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/10/14/Termux%20%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9D%91%E6%95%99%E7%A8%8B/" data-id="cleycjpia00a8qgunf1vh62qv" data-title="Termux 入门到入坑教程" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Termux/" rel="tag">Termux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Linux nohup后台保持运行任务" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/09/Linux%20nohup%E5%90%8E%E5%8F%B0%E4%BF%9D%E6%8C%81%E8%BF%90%E8%A1%8C%E4%BB%BB%E5%8A%A1/" class="article-date">
  <time class="dt-published" datetime="2021-10-09T06:50:00.000Z" itemprop="datePublished">2021-10-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/09/Linux%20nohup%E5%90%8E%E5%8F%B0%E4%BF%9D%E6%8C%81%E8%BF%90%E8%A1%8C%E4%BB%BB%E5%8A%A1/">Linux nohup后台保持运行任务</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->一般在运行Linux的程序脚本的时候，在shell终端关闭时候，脚本也会跟着结束。你觉得当前的进程还不能结束，可以使用nohup命令或者使用screen命令，该命令可以在关闭shell终端后继续运行相关进程。

<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup root/test.sh &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<p>运行状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1]6265  #进程ID</span><br><span class="line">$ nohup: ignoring input and appending output to `nohup.out’</span><br></pre></td></tr></table></figure>

<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211111225500.png" alt="nohup"></p>
<p>nohop的使用十分简单，只需要在处理的命令前加上<code>nohup</code>即可，标准输出和标准错误输出重定向到nohup.out文件中。在结尾加上<code>&amp;</code>让命令在后台执行，终端退出命令依旧执行。</p>
<h3 id="关闭进程"><a href="#关闭进程" class="headerlink" title="关闭进程"></a>关闭进程</h3><p>列出相关进程PID(进程号)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 方法一</span><br><span class="line">jobs -l</span><br><span class="line"></span><br><span class="line"># 方法二</span><br><span class="line">ps -aux|grep test.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211111224503.png" alt="nohup"></p>
<p>a:显示所有程序<br>u:以用户为主的格式来显示<br>x:显示所有程序，不以终端机来区分</p>
<p><strong>终结相关进程</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># jobs关闭进程</span><br><span class="line">jobs -l</span><br><span class="line"></span><br><span class="line">kill %PID</span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211111224952.png" alt="jobs"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># kill关闭进程</span><br><span class="line">ps -aux|grep test.sh</span><br><span class="line"></span><br><span class="line">kill -9 PID</span><br></pre></td></tr></table></figure>
<p><img src="https://img.jinjun.top/images/usr/uploads/2021/05/20211111225420.png" alt="kill"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/10/09/Linux%20nohup%E5%90%8E%E5%8F%B0%E4%BF%9D%E6%8C%81%E8%BF%90%E8%A1%8C%E4%BB%BB%E5%8A%A1/" data-id="cleycjph8005rqgun0sxz3h14" data-title="Linux nohup后台保持运行任务" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Termux/" rel="tag">Termux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nohup/" rel="tag">nohup</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nginx防止源站泄露IP" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/30/nginx%E9%98%B2%E6%AD%A2%E6%BA%90%E7%AB%99%E6%B3%84%E9%9C%B2IP/" class="article-date">
  <time class="dt-published" datetime="2021-09-30T02:45:00.000Z" itemprop="datePublished">2021-09-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BB%BA%E7%AB%99%E7%9F%A5%E8%AF%86/">建站知识</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/30/nginx%E9%98%B2%E6%AD%A2%E6%BA%90%E7%AB%99%E6%B3%84%E9%9C%B2IP/">nginx防止源站泄露IP</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!--markdown-->在安装完成NGINX环境后，通常为了避免攻击，可能会使用一些WAF/CDN来保护源站，但是如果配置不恰当，可能会导致源IP泄露。网络上有提供很多查询解析记录的网站，稍微不注意可能就躺枪，毕竟发动一次DDCC服务实在廉价啦。


<h2 id="443端口泄露"><a href="#443端口泄露" class="headerlink" title="443端口泄露"></a>443端口泄露</h2><p>nginx服务器本身存在一个问题，当你没有设置默认网站时，通过IP访问会解析到第一个默认站点，而在加入https访问时，会通过第一个已经配置的SSL站点来连接，导致源站被暴露。可以通过配置一个自签的证书到默认站点来防止。</p>
<ul>
<li>在某个目录创建ssl.crt和ssl.key，一份长期有效的自签空白证书</li>
</ul>
<h4 id="ssl-crt"><a href="#ssl-crt" class="headerlink" title="ssl.crt"></a>ssl.crt</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIIBkjCB/AIJAI3bCYqa39hiMA0GCSqGSIb3DQEBBQUAMA0xCzAJBgNVBAYTAiAg</span><br><span class="line">MCAXDTE4MTEyNDA5MDMzOFoYDzIwOTkxMjMxMDkwMzM4WjANMQswCQYDVQQGEwIg</span><br><span class="line">IDCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA18hepvNcznqDj735Opxircn3</span><br><span class="line">M0Ruv8nkpHHPuurxr6tLPKAe1XAsy5dWHDbK7t4sXpT0ds9c74yqmvfwKofPk7z9</span><br><span class="line">ZBhmyw/5sp454/JftL1c2fr58wB9ETfX6as5aR5hQR0M0NuQLSAB/KVzi9eeNWDd</span><br><span class="line">EzT0QN5B1Ai9BR/ApMMCAwEAATANBgkqhkiG9w0BAQUFAAOBgQBiqHZsuVP09ubT</span><br><span class="line">GzBSlAFEoqbM63sU51nwQpzkVObgGm9v9nnxS8Atid4be0THsz8nVjWcDym3Tydp</span><br><span class="line">lznrhoSrHyqAAlK3/WSMwyuPnDCNM5g1RdsV40TjZXk9/md8xWxGJ6n1MoBdlK8T</span><br><span class="line">H6h2ROkf59bb096TttB8lxXiT0uiDQ==</span><br><span class="line">-----END CERTIFICATE-----</span><br></pre></td></tr></table></figure>

<h4 id="ssl-key"><a href="#ssl-key" class="headerlink" title="ssl.key"></a>ssl.key</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIICXQIBAAKBgQDXyF6m81zOeoOPvfk6nGKtyfczRG6/yeSkcc+66vGvq0s8oB7V</span><br><span class="line">cCzLl1YcNsru3ixelPR2z1zvjKqa9/Aqh8+TvP1kGGbLD/mynjnj8l+0vVzZ+vnz</span><br><span class="line">AH0RN9fpqzlpHmFBHQzQ25AtIAH8pXOL1541YN0TNPRA3kHUCL0FH8CkwwIDAQAB</span><br><span class="line">AoGAQ4ejh6AV5VCWJ8AOZXdXsofIYzUBa+glNAmiNx8b8BwteZWq0KVAf56nBkFn</span><br><span class="line">lQXW4OrA7wXKUfW11rXNZaIHJePJXv1swkN9+Em18Hon6BrtcqnKAwzAbhok3SzY</span><br><span class="line">IVjI/zrgOABH6+ii77xCRBzI1itVPNN88DAUHC7PYLYiaaECQQD7PSoij37+kMc/</span><br><span class="line">wPeEkl9r3vzU0OrsCsjU8Ev714OaoL/SIuAh6nsiRh9rcbUrrpGSSzIcmsk9HMDa</span><br><span class="line">hXBNkNl5AkEA298yQvssaUc4tbEWxAVfd9DsHJdCdbXfgf9Dy5/tpCzYncY7T0du</span><br><span class="line">VVHqKu3jXWoMc5XlesiCOerU/DIlMM8dGwJBANQn7GLO5iC1xWvS2bF7oVSIMtzL</span><br><span class="line">pvW4jaszWBbNAPccc59RkA9T4LMqn/GtTZ4bhhYRpbl+BB21IC3nrNPzU5ECQG8T</span><br><span class="line">Ln0QDruQs2F2eR3F6RjKfr1i3LxCiQtPPZycypzp2vS5tDS0zVRk8XuGehoy/N9X</span><br><span class="line">lnqU2NURgU92tbsWpokCQQDdc9tU3B/OM/YfzUNwvOLmUVwrJX6PFSFsOn+XHrCC</span><br><span class="line">q9LcGEAHyzaf5GEWje84ee4rkv5oaZcwll3dg4IioBnC</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure>

<ul>
<li>我现在使用的是宝塔面板，默认路径（&#x2F;www&#x2F;server&#x2F;panel&#x2F;vhost&#x2F;nginx&#x2F;0.default.conf），不同的环境可能位置不同</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name _;</span><br><span class="line">    index index.html;</span><br><span class="line">    root /www/server/nginx/html;  #这里填写web默认目录</span><br><span class="line">    return 444;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name _;</span><br><span class="line">    ssl_certificate    /xxx/ssl.crt;  #这里填写证书绝对路径</span><br><span class="line">    ssl_certificate_key    /xxx/ssl.key; #这里填写证书绝对路径</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_session_cache shared:SSL:10m;</span><br><span class="line">    ssl_session_timeout 10m;</span><br><span class="line">    index index.html;</span><br><span class="line">    root /www/server/nginx/html;  #这里填写web默认目录</span><br><span class="line">    return 444;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>最后在宝塔面板重载NGINX，这样服务器在收到未绑定域名访问的时候会自己断开链接反会HTTP444，这样就大大降低存在风险，防君子不能放小人</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.jinjun.top/2021/09/30/nginx%E9%98%B2%E6%AD%A2%E6%BA%90%E7%AB%99%E6%B3%84%E9%9C%B2IP/" data-id="cleycjpk200h2qgunhqglfrqu" data-title="nginx防止源站泄露IP" class="article-share-link">Teilen</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IPv4/" rel="tag">IPv4</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tenginx/" rel="tag">Tenginx</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; zurück</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/5/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Typecho/">Typecho</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0/">工作笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BB%BA%E7%AB%99%E7%9F%A5%E8%AF%86/">建站知识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/">折腾笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">虚拟化</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/">资源分享</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%92%A7%E8%A8%80%E9%92%A7%E8%AF%AD/">钧言钧语</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2020/" rel="tag">2020</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AliSQL/" rel="tag">AliSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Aria2/" rel="tag">Aria2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BT/" rel="tag">BT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Brotli/" rel="tag">Brotli</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDN/" rel="tag">CDN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CardLink/" rel="tag">CardLink</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloudflare/" rel="tag">Cloudflare</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DUX/" rel="tag">DUX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/" rel="tag">Debian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Deepin/" rel="tag">Deepin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flash/" rel="tag">Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GCC/" rel="tag">GCC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GD/" rel="tag">GD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GNOME/" rel="tag">GNOME</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GoAccess/" rel="tag">GoAccess</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gravtar/" rel="tag">Gravtar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hyper-V/" rel="tag">Hyper-V</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IPv4/" rel="tag">IPv4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IPv6/" rel="tag">IPv6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Instantbox/" rel="tag">Instantbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMS/" rel="tag">KMS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LXC%E5%AE%B9%E5%99%A8/" rel="tag">LXC容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MAC/" rel="tag">MAC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MD5/" rel="tag">MD5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mariadb/" rel="tag">Mariadb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NAS/" rel="tag">NAS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NAT/" rel="tag">NAT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NTP/" rel="tag">NTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSS/" rel="tag">OSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP%E6%89%A9%E5%B1%95/" rel="tag">PHP扩展</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PS/" rel="tag">PS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PT/" rel="tag">PT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PWA/" rel="tag">PWA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Photoshop/" rel="tag">Photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PostgreSQL/" rel="tag">PostgreSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerOff/" rel="tag">PowerOff</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxmox/" rel="tag">Proxmox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QQ/" rel="tag">QQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reboot/" rel="tag">Reboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rocky/" rel="tag">Rocky</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SATA/" rel="tag">SATA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SHA1/" rel="tag">SHA1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/" rel="tag">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SmarSpam/" rel="tag">SmarSpam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCPA/" rel="tag">TCPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tengine/" rel="tag">Tengine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tenginx/" rel="tag">Tenginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Termux/" rel="tag">Termux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TinyProxy/" rel="tag">TinyProxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transmission/" rel="tag">Transmission</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typecho/" rel="tag">Typecho</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UNAS/" rel="tag">UNAS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UOS/" rel="tag">UOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VMware/" rel="tag">VMware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VNC/" rel="tag">VNC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VPS/" rel="tag">VPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS-Code/" rel="tag">VS Code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WEB/" rel="tag">WEB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPS/" rel="tag">WPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPS-Office/" rel="tag">WPS Office</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPS-Pro/" rel="tag">WPS Pro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZeroTier/" rel="tag">ZeroTier</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dig%E5%91%BD%E4%BB%A4/" rel="tag">dig命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/easypanel/" rel="tag">easypanel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/h5ai/" rel="tag">h5ai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/halt/" rel="tag">halt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hosts/" rel="tag">hosts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iframe/" rel="tag">iframe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ipset/" rel="tag">ipset</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kangle/" rel="tag">kangle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lazyload/" rel="tag">lazyload</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nethogs/" rel="tag">nethogs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nohup/" rel="tag">nohup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ossutil/" rel="tag">ossutil</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qBittorrent/" rel="tag">qBittorrent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rdesktop/" rel="tag">rdesktop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/screen/" rel="tag">screen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webp/" rel="tag">webp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD/" rel="tag">下载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/" rel="tag">个人笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1/" rel="tag">中国电信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8/" rel="tag">中国移动</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E5%9B%BD%E8%81%94%E9%80%9A/" rel="tag">中国联通</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E7%A7%8B/" rel="tag">中秋</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E9%A2%98/" rel="tag">主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/" rel="tag">主题开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E9%94%81/" rel="tag">云锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/" rel="tag">互联网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%A1/" rel="tag">互联网卡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" rel="tag">代码片段</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE/" rel="tag">代码高亮</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%81%9A%E5%9B%BE%E5%B0%8F%E6%8A%80%E5%B7%A7/" rel="tag">做图小技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%8D%E6%B5%81/" rel="tag">免流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E6%A0%B8/" rel="tag">内核</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4/" rel="tag">加密保护</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8E%E4%B8%BA/" rel="tag">华为</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91/" rel="tag">华为云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8E%E4%B8%BA%E8%A7%86%E9%A2%91/" rel="tag">华为视频</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%97%E5%8D%9A/" rel="tag">南博</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" rel="tag">反向代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BD%E5%BA%86/" rel="tag">国庆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E7%89%87/" rel="tag">图片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%9F%E5%90%8D/" rel="tag">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%87%E4%BB%BD/" rel="tag">备份</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%87%E6%A1%88/" rel="tag">备案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F/" rel="tag">夜间模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E4%BD%93/" rel="tag">字体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/" rel="tag">宝塔面板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%BD%E5%B8%A6%E6%B5%8B%E9%80%9F/" rel="tag">宽带测速</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E5%A4%A9%E7%A5%9E/" rel="tag">小天神</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BF%A1%E9%83%A8/" rel="tag">工信部</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%BF%E4%B8%9C%E7%94%B5%E4%BF%A1/" rel="tag">广东电信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/" rel="tag">建站教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1/" rel="tag">微信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" rel="tag">快捷键</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%87%92%E5%8A%A0%E8%BD%BD/" rel="tag">懒加载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/" rel="tag">技术教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%82%E8%BD%BD%E7%A3%81%E7%9B%98/" rel="tag">挂载磁盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/" rel="tag">搜索引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/" rel="tag">支付宝</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A0%E7%BA%BF%E6%B5%8B%E9%80%9F/" rel="tag">无线测速</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/" rel="tag">日志服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9A%97%E7%94%B5%E6%B5%81/" rel="tag">暗电流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/" rel="tag">格式转换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83/" rel="tag">桌面环境</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B0%94%E6%B3%A1/" rel="tag">气泡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%BD%E8%BD%A6/" rel="tag">汽车</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%BD%E8%BD%A6%E6%BC%8F%E7%94%B5/" rel="tag">汽车漏电</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E9%80%9F/" rel="tag">测速</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BC%94%E8%AF%B4%E5%AE%B6/" rel="tag">演说家</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%81%AF%E7%AE%B1%E6%95%88%E6%9E%9C/" rel="tag">灯箱效果</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%82%B9%E6%BB%B4/" rel="tag">点滴</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%97%A5%E5%BF%AB%E4%B9%90/" rel="tag">生日快乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB/" rel="tag">生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%B5%E8%B7%AF%E6%A3%80%E6%B5%8B/" rel="tag">电路检测</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%95%85%E8%B0%88/" rel="tag">畅谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%99%BB%E5%BD%95%E6%8F%90%E9%86%92/" rel="tag">登录提醒</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F/" rel="tag">监控系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%AD%E4%BB%A3%E7%A0%81/" rel="tag">短代码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%AF%E4%BB%A3%E7%A0%81/" rel="tag">纯代码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%88%E7%AB%AF/" rel="tag">终端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%A9%E7%95%A5%E5%9B%BE/" rel="tag">缩略图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/" rel="tag">网站优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E9%80%9F%E6%B5%8B%E8%AF%95/" rel="tag">网速测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%85%BE%E8%AE%AF/" rel="tag">腾讯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/" rel="tag">腾讯云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%85%BE%E8%AE%AF%E5%A4%A7%E7%8E%8B%E5%8D%A1/" rel="tag">腾讯大王卡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8A%B1%E5%B8%81/" rel="tag">花币</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B9%E6%9E%9C%E7%B3%BB%E7%BB%9F/" rel="tag">苹果系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%86%E9%A2%91/" rel="tag">视频</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/" rel="tag">记事本</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1/" rel="tag">访问统计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/" rel="tag">资源分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B7%A8%E5%B9%B4/" rel="tag">跨年</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%87%E6%BB%A4%E8%AF%84%E8%AE%BA/" rel="tag">过滤评论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E7%BB%B4%E6%95%99%E7%A8%8B/" rel="tag">运维教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%98%E5%8E%9F/" rel="tag">还原</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/" rel="tag">远程管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%92%89%E9%92%89/" rel="tag">钉钉</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%92%A7%E8%A8%80%E9%92%A7%E8%AF%AD/" rel="tag">钧言钧语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/" rel="tag">镜像加速</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/" rel="tag">防火墙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%B2%E7%9B%97%E9%93%BE/" rel="tag">防盗链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%B2%E9%AA%9A%E6%89%B0/" rel="tag">防骚扰</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%BF%E9%87%8C%E4%BA%91/" rel="tag">阿里云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E4%BA%94%E7%A6%8F/" rel="tag">集五福</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%99%E6%80%81IP/" rel="tag">静态IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/" rel="tag">静态网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E4%B9%90/" rel="tag">音乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E5%93%8D/" rel="tag">音响</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%86%E5%8F%96%E6%B5%81%E9%87%8F/" rel="tag">领取流量</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2020/" style="font-size: 10px;">2020</a> <a href="/tags/AliSQL/" style="font-size: 10.67px;">AliSQL</a> <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Aria2/" style="font-size: 10px;">Aria2</a> <a href="/tags/BT/" style="font-size: 10px;">BT</a> <a href="/tags/Brotli/" style="font-size: 10px;">Brotli</a> <a href="/tags/CDN/" style="font-size: 14.67px;">CDN</a> <a href="/tags/CSS/" style="font-size: 14.67px;">CSS</a> <a href="/tags/CardLink/" style="font-size: 10px;">CardLink</a> <a href="/tags/CentOS/" style="font-size: 18.67px;">CentOS</a> <a href="/tags/Chrome/" style="font-size: 11.33px;">Chrome</a> <a href="/tags/Cloudflare/" style="font-size: 10px;">Cloudflare</a> <a href="/tags/DUX/" style="font-size: 10px;">DUX</a> <a href="/tags/Debian/" style="font-size: 16.67px;">Debian</a> <a href="/tags/Deepin/" style="font-size: 14.67px;">Deepin</a> <a href="/tags/Docker/" style="font-size: 15.33px;">Docker</a> <a href="/tags/Flash/" style="font-size: 10px;">Flash</a> <a href="/tags/GCC/" style="font-size: 10.67px;">GCC</a> <a href="/tags/GD/" style="font-size: 10px;">GD</a> <a href="/tags/GNOME/" style="font-size: 10px;">GNOME</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Go/" style="font-size: 10px;">Go</a> <a href="/tags/GoAccess/" style="font-size: 10px;">GoAccess</a> <a href="/tags/Golang/" style="font-size: 10px;">Golang</a> <a href="/tags/Gravtar/" style="font-size: 10.67px;">Gravtar</a> <a href="/tags/HTML/" style="font-size: 15.33px;">HTML</a> <a href="/tags/Hyper-V/" style="font-size: 10.67px;">Hyper-V</a> <a href="/tags/IPv4/" style="font-size: 12.67px;">IPv4</a> <a href="/tags/IPv6/" style="font-size: 12.67px;">IPv6</a> <a href="/tags/Instantbox/" style="font-size: 10px;">Instantbox</a> <a href="/tags/Javascript/" style="font-size: 17.33px;">Javascript</a> <a href="/tags/KMS/" style="font-size: 10px;">KMS</a> <a href="/tags/LXC%E5%AE%B9%E5%99%A8/" style="font-size: 11.33px;">LXC容器</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MAC/" style="font-size: 12px;">MAC</a> <a href="/tags/MD5/" style="font-size: 10px;">MD5</a> <a href="/tags/Mariadb/" style="font-size: 10.67px;">Mariadb</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/NAS/" style="font-size: 11.33px;">NAS</a> <a href="/tags/NAT/" style="font-size: 11.33px;">NAT</a> <a href="/tags/NTP/" style="font-size: 10px;">NTP</a> <a href="/tags/Nginx/" style="font-size: 17.33px;">Nginx</a> <a href="/tags/OSS/" style="font-size: 10.67px;">OSS</a> <a href="/tags/PHP/" style="font-size: 17.33px;">PHP</a> <a href="/tags/PHP%E6%89%A9%E5%B1%95/" style="font-size: 14px;">PHP扩展</a> <a href="/tags/PS/" style="font-size: 10px;">PS</a> <a href="/tags/PT/" style="font-size: 10.67px;">PT</a> <a href="/tags/PWA/" style="font-size: 10px;">PWA</a> <a href="/tags/Photoshop/" style="font-size: 10px;">Photoshop</a> <a href="/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/tags/PowerOff/" style="font-size: 10px;">PowerOff</a> <a href="/tags/Proxmox/" style="font-size: 13.33px;">Proxmox</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/Reboot/" style="font-size: 10px;">Reboot</a> <a href="/tags/Rocky/" style="font-size: 10px;">Rocky</a> <a href="/tags/SATA/" style="font-size: 10px;">SATA</a> <a href="/tags/SHA1/" style="font-size: 10px;">SHA1</a> <a href="/tags/SSH/" style="font-size: 14.67px;">SSH</a> <a href="/tags/SmarSpam/" style="font-size: 10px;">SmarSpam</a> <a href="/tags/TCPA/" style="font-size: 10px;">TCPA</a> <a href="/tags/Tengine/" style="font-size: 10px;">Tengine</a> <a href="/tags/Tenginx/" style="font-size: 16px;">Tenginx</a> <a href="/tags/Termux/" style="font-size: 12.67px;">Termux</a> <a href="/tags/TinyProxy/" style="font-size: 10.67px;">TinyProxy</a> <a href="/tags/Transmission/" style="font-size: 12px;">Transmission</a> <a href="/tags/Typecho/" style="font-size: 19.33px;">Typecho</a> <a href="/tags/UNAS/" style="font-size: 10px;">UNAS</a> <a href="/tags/UOS/" style="font-size: 11.33px;">UOS</a> <a href="/tags/Ubuntu/" style="font-size: 13.33px;">Ubuntu</a> <a href="/tags/VMware/" style="font-size: 12px;">VMware</a> <a href="/tags/VNC/" style="font-size: 10.67px;">VNC</a> <a href="/tags/VPS/" style="font-size: 11.33px;">VPS</a> <a href="/tags/VS-Code/" style="font-size: 10px;">VS Code</a> <a href="/tags/WEB/" style="font-size: 12.67px;">WEB</a> <a href="/tags/WPS/" style="font-size: 10px;">WPS</a> <a href="/tags/WPS-Office/" style="font-size: 10px;">WPS Office</a> <a href="/tags/WPS-Pro/" style="font-size: 10px;">WPS Pro</a> <a href="/tags/Windows/" style="font-size: 13.33px;">Windows</a> <a href="/tags/ZeroTier/" style="font-size: 10.67px;">ZeroTier</a> <a href="/tags/dig%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">dig命令</a> <a href="/tags/easypanel/" style="font-size: 10.67px;">easypanel</a> <a href="/tags/h5ai/" style="font-size: 10px;">h5ai</a> <a href="/tags/halt/" style="font-size: 10px;">halt</a> <a href="/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/tags/iframe/" style="font-size: 10px;">iframe</a> <a href="/tags/ipset/" style="font-size: 10px;">ipset</a> <a href="/tags/iptables/" style="font-size: 10.67px;">iptables</a> <a href="/tags/kangle/" style="font-size: 14.67px;">kangle</a> <a href="/tags/lazyload/" style="font-size: 10px;">lazyload</a> <a href="/tags/mysql/" style="font-size: 18px;">mysql</a> <a href="/tags/nethogs/" style="font-size: 10px;">nethogs</a> <a href="/tags/nohup/" style="font-size: 10px;">nohup</a> <a href="/tags/ossutil/" style="font-size: 10px;">ossutil</a> <a href="/tags/qBittorrent/" style="font-size: 10px;">qBittorrent</a> <a href="/tags/rdesktop/" style="font-size: 10px;">rdesktop</a> <a href="/tags/screen/" style="font-size: 10px;">screen</a> <a href="/tags/webp/" style="font-size: 10px;">webp</a> <a href="/tags/%E4%B8%8B%E8%BD%BD/" style="font-size: 11.33px;">下载</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">个人笔记</a> <a href="/tags/%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1/" style="font-size: 12px;">中国电信</a> <a href="/tags/%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8/" style="font-size: 11.33px;">中国移动</a> <a href="/tags/%E4%B8%AD%E5%9B%BD%E8%81%94%E9%80%9A/" style="font-size: 12px;">中国联通</a> <a href="/tags/%E4%B8%AD%E7%A7%8B/" style="font-size: 10px;">中秋</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 10px;">主题</a> <a href="/tags/%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/" style="font-size: 10.67px;">主题开发</a> <a href="/tags/%E4%BA%91%E9%94%81/" style="font-size: 10px;">云锁</a> <a href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/" style="font-size: 10px;">互联网</a> <a href="/tags/%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%A1/" style="font-size: 10.67px;">互联网卡</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" style="font-size: 10.67px;">代码片段</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE/" style="font-size: 10px;">代码高亮</a> <a href="/tags/%E5%81%9A%E5%9B%BE%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 10px;">做图小技巧</a> <a href="/tags/%E5%85%8D%E6%B5%81/" style="font-size: 10.67px;">免流</a> <a href="/tags/%E5%86%85%E6%A0%B8/" style="font-size: 10.67px;">内核</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4/" style="font-size: 10px;">加密保护</a> <a href="/tags/%E5%8D%8E%E4%B8%BA/" style="font-size: 11.33px;">华为</a> <a href="/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91/" style="font-size: 10.67px;">华为云</a> <a href="/tags/%E5%8D%8E%E4%B8%BA%E8%A7%86%E9%A2%91/" style="font-size: 10px;">华为视频</a> <a href="/tags/%E5%8D%97%E5%8D%9A/" style="font-size: 10px;">南博</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a> <a href="/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" style="font-size: 10.67px;">反向代理</a> <a href="/tags/%E5%9B%BD%E5%BA%86/" style="font-size: 10px;">国庆</a> <a href="/tags/%E5%9B%BE%E7%89%87/" style="font-size: 10px;">图片</a> <a href="/tags/%E5%9F%9F%E5%90%8D/" style="font-size: 10px;">域名</a> <a href="/tags/%E5%A4%87%E4%BB%BD/" style="font-size: 10px;">备份</a> <a href="/tags/%E5%A4%87%E6%A1%88/" style="font-size: 10px;">备案</a> <a href="/tags/%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">夜间模式</a> <a href="/tags/%E5%AD%97%E4%BD%93/" style="font-size: 10px;">字体</a> <a href="/tags/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/" style="font-size: 14px;">宝塔面板</a> <a href="/tags/%E5%AE%BD%E5%B8%A6%E6%B5%8B%E9%80%9F/" style="font-size: 10px;">宽带测速</a> <a href="/tags/%E5%B0%8F%E5%A4%A9%E7%A5%9E/" style="font-size: 10px;">小天神</a> <a href="/tags/%E5%B7%A5%E4%BF%A1%E9%83%A8/" style="font-size: 10px;">工信部</a> <a href="/tags/%E5%B9%BF%E4%B8%9C%E7%94%B5%E4%BF%A1/" style="font-size: 10.67px;">广东电信</a> <a href="/tags/%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/" style="font-size: 10px;">建站教程</a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 10px;">微信</a> <a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 10px;">快捷键</a> <a href="/tags/%E6%87%92%E5%8A%A0%E8%BD%BD/" style="font-size: 11.33px;">懒加载</a> <a href="/tags/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/" style="font-size: 10.67px;">技术教程</a> <a href="/tags/%E6%8C%82%E8%BD%BD%E7%A3%81%E7%9B%98/" style="font-size: 10px;">挂载磁盘</a> <a href="/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/" style="font-size: 10px;">搜索引擎</a> <a href="/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/" style="font-size: 10px;">支付宝</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10.67px;">数据库</a> <a href="/tags/%E6%97%A0%E7%BA%BF%E6%B5%8B%E9%80%9F/" style="font-size: 10px;">无线测速</a> <a href="/tags/%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">日志服务</a> <a href="/tags/%E6%9A%97%E7%94%B5%E6%B5%81/" style="font-size: 10px;">暗电流</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 14px;">服务器</a> <a href="/tags/%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/" style="font-size: 10px;">格式转换</a> <a href="/tags/%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83/" style="font-size: 10px;">桌面环境</a> <a href="/tags/%E6%B0%94%E6%B3%A1/" style="font-size: 10px;">气泡</a> <a href="/tags/%E6%B1%BD%E8%BD%A6/" style="font-size: 10.67px;">汽车</a> <a href="/tags/%E6%B1%BD%E8%BD%A6%E6%BC%8F%E7%94%B5/" style="font-size: 10px;">汽车漏电</a> <a href="/tags/%E6%B5%8B%E9%80%9F/" style="font-size: 10px;">测速</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10.67px;">浏览器</a> <a href="/tags/%E6%BC%94%E8%AF%B4%E5%AE%B6/" style="font-size: 10px;">演说家</a> <a href="/tags/%E7%81%AF%E7%AE%B1%E6%95%88%E6%9E%9C/" style="font-size: 10.67px;">灯箱效果</a> <a href="/tags/%E7%82%B9%E6%BB%B4/" style="font-size: 11.33px;">点滴</a> <a href="/tags/%E7%94%9F%E6%97%A5%E5%BF%AB%E4%B9%90/" style="font-size: 10.67px;">生日快乐</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 10.67px;">生活</a> <a href="/tags/%E7%94%B5%E8%B7%AF%E6%A3%80%E6%B5%8B/" style="font-size: 10.67px;">电路检测</a> <a href="/tags/%E7%95%85%E8%B0%88/" style="font-size: 10px;">畅谈</a> <a href="/tags/%E7%99%BB%E5%BD%95%E6%8F%90%E9%86%92/" style="font-size: 10px;">登录提醒</a> <a href="/tags/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">监控系统</a> <a href="/tags/%E7%9F%AD%E4%BB%A3%E7%A0%81/" style="font-size: 10px;">短代码</a> <a href="/tags/%E7%BA%AF%E4%BB%A3%E7%A0%81/" style="font-size: 10px;">纯代码</a> <a href="/tags/%E7%BB%88%E7%AB%AF/" style="font-size: 10.67px;">终端</a> <a href="/tags/%E7%BC%A9%E7%95%A5%E5%9B%BE/" style="font-size: 10px;">缩略图</a> <a href="/tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/" style="font-size: 10px;">网站优化</a> <a href="/tags/%E7%BD%91%E9%80%9F%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">网速测试</a> <a href="/tags/%E8%85%BE%E8%AE%AF/" style="font-size: 10px;">腾讯</a> <a href="/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/" style="font-size: 12.67px;">腾讯云</a> <a href="/tags/%E8%85%BE%E8%AE%AF%E5%A4%A7%E7%8E%8B%E5%8D%A1/" style="font-size: 10px;">腾讯大王卡</a> <a href="/tags/%E8%8A%B1%E5%B8%81/" style="font-size: 10px;">花币</a> <a href="/tags/%E8%8B%B9%E6%9E%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">苹果系统</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">虚拟化</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 16px;">虚拟机</a> <a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 10.67px;">视频</a> <a href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/" style="font-size: 10.67px;">记事本</a> <a href="/tags/%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1/" style="font-size: 10px;">访问统计</a> <a href="/tags/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/" style="font-size: 10px;">资源分享</a> <a href="/tags/%E8%B7%A8%E5%B9%B4/" style="font-size: 10px;">跨年</a> <a href="/tags/%E8%BF%87%E6%BB%A4%E8%AF%84%E8%AE%BA/" style="font-size: 10px;">过滤评论</a> <a href="/tags/%E8%BF%90%E7%BB%B4%E6%95%99%E7%A8%8B/" style="font-size: 12.67px;">运维教程</a> <a href="/tags/%E8%BF%98%E5%8E%9F/" style="font-size: 10px;">还原</a> <a href="/tags/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/" style="font-size: 10px;">远程管理</a> <a href="/tags/%E9%92%89%E9%92%89/" style="font-size: 10px;">钉钉</a> <a href="/tags/%E9%92%A7%E8%A8%80%E9%92%A7%E8%AF%AD/" style="font-size: 10.67px;">钧言钧语</a> <a href="/tags/%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/" style="font-size: 11.33px;">镜像加速</a> <a href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/" style="font-size: 10px;">防火墙</a> <a href="/tags/%E9%98%B2%E7%9B%97%E9%93%BE/" style="font-size: 10.67px;">防盗链</a> <a href="/tags/%E9%98%B2%E9%AA%9A%E6%89%B0/" style="font-size: 10px;">防骚扰</a> <a href="/tags/%E9%98%BF%E9%87%8C%E4%BA%91/" style="font-size: 13.33px;">阿里云</a> <a href="/tags/%E9%9B%86%E4%BA%94%E7%A6%8F/" style="font-size: 10px;">集五福</a> <a href="/tags/%E9%9D%99%E6%80%81IP/" style="font-size: 10.67px;">静态IP</a> <a href="/tags/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/" style="font-size: 11.33px;">静态网站</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">音乐</a> <a href="/tags/%E9%9F%B3%E5%93%8D/" style="font-size: 10px;">音响</a> <a href="/tags/%E9%A2%86%E5%8F%96%E6%B5%81%E9%87%8F/" style="font-size: 10px;">领取流量</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/07/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2023/03/04/%E4%BD%BF%E7%94%A8%20CardLink%20%E7%94%9F%E6%88%90%E5%8D%A1%E7%89%87%E5%BC%8F%E9%93%BE%E6%8E%A5/">使用 CardLink 生成卡片式链接</a>
          </li>
        
          <li>
            <a href="/2023/02/19/%E6%B5%8B%E8%AF%95%E5%8D%95%E5%9B%BE%E6%A8%A1%E5%BC%8F/">测试单图模式</a>
          </li>
        
          <li>
            <a href="/2023/02/04/%E6%B5%8B%E8%AF%95%E5%A4%9A%E5%9B%BE%E6%96%87%E7%AB%A0/">测试多图文章</a>
          </li>
        
          <li>
            <a href="/2023/01/26/Zerotier%20%E7%A7%81%E6%9C%89%E5%8C%96%E9%83%A8%E7%BD%B2%E6%A0%B9%E6%9C%8D%E5%8A%A1%E5%99%A8(Planet)/">Zerotier 私有化部署根服务器(Planet)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 钧言<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>